<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="Campus e-COMELEC ensures fair and transparent student elections at SLSU Lucena through a secure and digital voting platform." />
  <title>About | Campus e-COMELEC</title>

  <!-- Styles -->
  <link rel="stylesheet" href="About.css" />
  <link
    rel="stylesheet"
    href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css"
  />
  <script src="animation.js" defer></script>
</head>

<body>
  <!-- Navigation (now with profile dropdown like EComelec.html) -->
  <nav>
    <div class="inner">
      <div class="logo">
        <img src="images/comelec.png" alt="e-COMELEC Logo" />
        <div class="logo-text">
          <span class="university">SOUTHERN LUZON STATE UNIVERSITY LUCENA</span>
          <span class="commission">COMMISSION ON ELECTION</span>
        </div>
      </div>

      <ul>
        <li><a href="EComelec.html"><i class="fas fa-home"></i> Home</a></li>
        <li><a href="About.html" class="active"><i class="fas fa-info-circle"></i> About</a></li>
        <li><a href="vote.html"><i class="fas fa-vote-yea"></i> Vote</a></li>
        <li><a href="result.html"><i class="fas fa-chart-bar"></i> Results</a></li>
        <li><a href="contact.html"><i class="fas fa-envelope"></i> Contact</a></li>

        <!-- Profile Menu (same structure as EComelec.html) -->
        <li class="profile-menu">
          <i id="profileBtn" class="fas fa-user-circle"></i>
          <div id="profileDropdown" class="dropdown">
            <p id="userName">Loading...</p>
            <button id="logoutBtn">Logout</button>
          </div>
        </li>
      </ul>
    </div>
  </nav>

  <!-- Hero Section -->
  <header class="about-hero scroll-animate">
    <div class="about-hero-inner">
      <span class="hero-pill">
        <i class="fas fa-landmark"></i>
        About Campus e-COMELEC
      </span>
      <div class="about-hero-content">
        <h1>Empowering Students Through Transparent Elections</h1>
        <p>
          Campus e-COMELEC upholds fair, secure, and inclusive student elections
          at SLSU Lucena through a modern, digital voting platform.
        </p>
      </div>
    </div>
  </header>

  <!-- Officers Section -->
  <section class="officers scroll-animate-left">
    <div class="officers-inner">
      <h2>COMELEC Officers & Adviser</h2>
      <p class="officers-subtitle">
        The student leaders and officers behind every transparent election.
      </p>
      <div class="officer-container">
        <div class="officer-card">
          <div class="officer-avatar">
            <i class="fas fa-user-tie"></i>
          </div>
          <h3>Jeric Rea</h3>
          <p>Chairperson</p>
        </div>
        <div class="officer-card">
          <div class="officer-avatar">
            <i class="fas fa-user-tie"></i>
          </div>
          <h3>Mark John Wave Orig</h3>
          <p>Vice Chairperson</p>
        </div>
        <div class="officer-card">
          <div class="officer-avatar">
            <i class="fas fa-user"></i>
          </div>
          <h3>Kiarra Zaide</h3>
          <p>Secretary</p>
        </div>
        <div class="officer-card">
          <div class="officer-avatar">
            <i class="fas fa-user"></i>
          </div>
          <h3>Maricris Velasco</h3>
          <p>Assistant Secretary</p>
        </div>
        <div class="officer-card">
          <div class="officer-avatar">
            <i class="fas fa-coins"></i>
          </div>
          <h3>Erica Roperez</h3>
          <p>Finance</p>
        </div>
        <div class="officer-card">
          <div class="officer-avatar">
            <i class="fas fa-bullhorn"></i>
          </div>
          <h3>Princess Alyssa Lorenzo</h3>
          <p>Public Information Officer</p>
        </div>
      </div>
    </div>
  </section>

  <!-- About Section -->
  <section class="about-modern section scroll-animate-right">
    <div class="container">
      <div class="about-cards">
        <div class="about-card">
          <h2>Who We Are</h2>
          <p>
            The Campus e-COMELEC is the official Commission on Elections of the
            Southern Luzon State University Lucena Campus. We ensure that student
            government elections are conducted fairly, transparently, and securely
            through the use of digital platforms.
          </p>
        </div>

        <div class="about-card">
          <h2>Our Mission</h2>
          <p>
            To provide a secure, transparent, and accessible voting system for
            students by integrating technology into every step of the election
            process â€” from candidacy to final results.
          </p>
        </div>

        <div class="about-card">
          <h2>Our Vision</h2>
          <p>
            To become a model for digitalized student elections that promotes
            integrity, inclusivity, and active democratic participation among
            all students of SLSU Lucena.
          </p>
        </div>
      </div>

      <!-- Core Values -->
      <div class="about-values">
        <h2>Core Values</h2>
        <div class="values-grid">
          <div class="value-card">
            <i class="fas fa-check-circle"></i><span>Integrity</span>
          </div>
          <div class="value-card">
            <i class="fas fa-check-circle"></i><span>Transparency</span>
          </div>
          <div class="value-card">
            <i class="fas fa-check-circle"></i><span>Inclusivity</span>
          </div>
          <div class="value-card">
            <i class="fas fa-check-circle"></i><span>Accountability</span>
          </div>
          <div class="value-card">
            <i class="fas fa-check-circle"></i><span>Service to Students</span>
          </div>
        </div>
      </div>
    </div>
  </section>
  
  

  <!-- Footer -->
  <footer>
    <div class="footer-content">
      <p>&copy; 2025 Campus e-COMELEC. All Rights Reserved.</p>
      <div class="footer-icons">
        <a href="#"><i class="fab fa-facebook"></i> Facebook</a>
        <a href="mailto:info@slsecomelec.edu"><i class="fas fa-envelope"></i> Email</a>
        <a href="#"><i class="fas fa-map-marker-alt"></i> Location</a>
      </div>
    </div>
  </footer>

  <!-- PROFILE DROPDOWN LOGIC + FIREBASE (same behavior as EComelec.html) -->
  <script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/12.5.0/firebase-app.js";
    import { getDatabase, ref, onValue } from "https://www.gstatic.com/firebasejs/12.5.0/firebase-database.js";

    // Firebase config (same as EComelec.html)
    const firebaseConfig = {
      apiKey: "AIzaSyBGwXduXRNtB42biPJe0KJkqzxxdz9IuqU",
      authDomain: "e-commelec.firebaseapp.com",
      databaseURL: "https://e-commelec-default-rtdb.firebaseio.com",
      projectId: "e-commelec",
      storageBucket: "e-commelec.firebasestorage.app",
      messagingSenderId: "334086674865",
      appId: "1:334086674865:web:63766c30fd3e9a032e8590"
    };

    const app = initializeApp(firebaseConfig);
    const db = getDatabase(app);

    // Profile dropdown & user name
    const profileBtn = document.getElementById('profileBtn');
    const profileDropdown = document.getElementById('profileDropdown');
    const logoutBtn = document.getElementById('logoutBtn');
    const userNameEl = document.getElementById('userName');

    if (profileBtn) {
      profileBtn.addEventListener('click', (e) => {
        e.stopPropagation();
        profileDropdown.classList.toggle('active');
      });
    }

    document.addEventListener('click', (e) => {
      if (
        profileDropdown &&
        !profileDropdown.contains(e.target) &&
        !profileBtn.contains(e.target)
      ) {
        profileDropdown.classList.remove('active');
      }
    });

    // Get logged-in user email from localStorage
    let currentUserEmail = localStorage.getItem("ec_userEmail");

    // Fallback to old structure if you previously saved 'loggedUser'
    if (!currentUserEmail) {
      const oldUserRaw = localStorage.getItem("loggedUser");
      if (oldUserRaw) {
        try {
          const oldUser = JSON.parse(oldUserRaw);
          if (oldUser && oldUser.email) {
            currentUserEmail = oldUser.email;
          }
        } catch (e) {
          console.error("Failed to parse loggedUser:", e);
        }
      }
    }

    if (!currentUserEmail) {
      userNameEl.textContent = "Not Logged In";
    } else {
      const safeEmail = currentUserEmail.replace(/\./g, "_");
      const userRef = ref(db, "users/" + safeEmail);

      onValue(userRef, (snapshot) => {
        const user = snapshot.val();
        if (user && user.name) {
          userNameEl.textContent = user.name;
        } else {
          userNameEl.textContent = currentUserEmail;
        }
      });
    }

    // Logout
    logoutBtn.addEventListener('click', () => {
      localStorage.removeItem("ec_userName");
      localStorage.removeItem("ec_userEmail");
      localStorage.removeItem("loggedUser");
      window.location.href = "login.html";
    });
  </script>
</body>
</html>
